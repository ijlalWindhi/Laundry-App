{"ast":null,"code":"var _jsxFileName = \"/home/dhisa/Documents/Project/Project/Fullstack Web/UKL Laundry/Frontend/src/pages/Member.js\";\nimport React from 'react';\nimport Navbar from '../components/Navbar';\nimport NavbarKasir from '../components/NavbarKasir';\nimport NavbarOwner from '../components/NavbarOwner';\nimport axios from 'axios';\nimport { Modal, Button, Form } from 'react-bootstrap';\nimport { NavLink } from 'react-router-dom';\nimport { MdAdd, MdEdit, MdDeleteOutline } from 'react-icons/md';\nimport { Edit, Trash } from 'react-feather';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Member extends React.Component {\n  constructor() {\n    super();\n\n    this.headerConfig = () => {\n      let header = {\n        headers: {\n          Authorization: `Bearer ${this.state.token}`\n        }\n      };\n      return header;\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleFile = e => {\n      this.setState({\n        image: e.target.files[0]\n      });\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        isModalOpen: false,\n        isModalPw: false\n      });\n    };\n\n    this.getMember = () => {\n      let url = 'http://localhost:8080/member/';\n      axios.get(url, this.headerConfig()).then(res => {\n        this.setState({\n          member: res.data.member\n        });\n        console.log(this.state.member);\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.handleEdit = item => {\n      let url = \"http://localhost:8080/member/\" + item.id_member;\n      axios.get(url).then(res => {\n        this.setState({\n          isModalOpen: true,\n          nama: item.nama,\n          alamat: item.alamat,\n          jenis_kelamin: item.jenis_kelamin,\n          tlp: item.tlp,\n          id_member: item.id_member,\n          action: \"update\"\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.handleAdd = () => {\n      this.setState({\n        isModalOpen: true,\n        nama: \"\",\n        alamat: \"\",\n        jenis_kelamin: \"\",\n        tlp: \"\",\n        action: \"insert\"\n      });\n    };\n\n    this.handleSave = e => {\n      e.preventDefault();\n      let form = {\n        id_admin: this.state.id_admin,\n        nama: this.state.nama,\n        alamat: this.state.alamat,\n        jenis_kelamin: this.state.jenis_kelamin,\n        tlp: this.state.tlp\n      };\n      let url = \"\";\n\n      if (this.state.action === \"insert\") {\n        url = \"http://localhost:8080/member/\";\n        axios.post(url, form, this.headerConfig()).then(response => {\n          // window.alert(response.data.message)\n          this.getMember();\n          this.handleColse();\n        }).catch(error => console.log(error));\n      } else if (this.state.action === \"update\") {\n        url = \"http://localhost:8080/member/\" + this.state.id_member;\n        axios.put(url, form, this.headerConfig()).then(response => {\n          // window.alert(response.data.message)\n          this.getMember();\n          this.handleColse();\n        }).catch(error => console.log(error));\n      }\n\n      this.setState({\n        isModalOpen: false\n      });\n    };\n\n    this.Drop = id => {\n      let url = \"http://localhost:8080/member/\" + id;\n\n      if (window.confirm(\"Are you sure to delete this data?\")) {\n        axios.delete(url).then(res => {\n          console.log(res.data.message);\n          this.getMember();\n        }).catch(err => {\n          console.log(err.message);\n        });\n      }\n    };\n\n    this.state = {\n      member: [],\n      isModalOpen: false,\n      token: \"\",\n      id_member: 0,\n      nama: \"\",\n      alamat: \"\",\n      jenis_kelamin: \"\",\n      tlp: \"\",\n      search: \"\",\n      isModalPw: false,\n      action: \"\"\n    };\n\n    if (localStorage.getItem('token')) {\n      if (localStorage.getItem('role') === \"admin\" || localStorage.getItem('role') === \"kasir\") {\n        this.state.role = localStorage.getItem('role');\n        this.state.token = localStorage.getItem('token');\n        this.state.userName = localStorage.getItem('name');\n      } else {\n        window.alert(\"You are not an admin\");\n        window.location = '/login';\n      }\n    } else {\n      window.location = \"/login\";\n    }\n  }\n\n  componentDidMount() {\n    this.getMember();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex\",\n      children: [this.state.role == \"owner\" && /*#__PURE__*/_jsxDEV(NavbarOwner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }, this), this.state.role == \"admin\" && /*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 13\n      }, this), this.state.role == \"kasir\" && /*#__PURE__*/_jsxDEV(NavbarKasir, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-10 ml-10 w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-3xl font-bold\",\n          children: \"Data User\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-green-400 text-white text-lg font-medium px-3 py-2 rounded-xl my-3\",\n          id: \"btn-blue\",\n          onClick: () => this.handleAdd(),\n          children: \"+ Tambah User\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table-fixed text-sm text-left text-gray-500  w-3/4\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"text-white  text-center bg-gray-700\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"text-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Member ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Gender\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"No Telp\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Aksi\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"text-lg text-center text-black\",\n            children: this.state.member.map((item, index) => {\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.id_member\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.nama\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.alamat\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.jenis_kelamin\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.tlp\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"bg-blue-500 hover:bg-blue-700 text-white p-2\",\n                    onClick: () => this.handleEdit(item),\n                    children: /*#__PURE__*/_jsxDEV(Edit, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 204,\n                      columnNumber: 124\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"ml-2 bg-red-500 hover:bg-red-700 text-white p-2\",\n                    id: \"blue\",\n                    onClick: () => this.Drop(item.id_outlet),\n                    children: /*#__PURE__*/_jsxDEV(Trash, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 205,\n                      columnNumber: 143\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 205,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 21\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        show: this.state.isModalOpen,\n        onHide: this.handleClose,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            children: \"Member\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: e => this.handleSave(e),\n          children: [/*#__PURE__*/_jsxDEV(Modal.Body, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mb-2\",\n              controlId: \"name\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                name: \"nama\",\n                placeholder: \"Input name\",\n                value: this.state.nama,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mb-2\",\n              controlId: \"address\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                name: \"alamat\",\n                placeholder: \"Input address\",\n                value: this.state.alamat,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mb-2\",\n              controlId: \"gender\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Jenis Kelamin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                type: \"text\",\n                name: \"jenis_kelamin\",\n                onChange: this.handleChange,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: this.state.jenis_kelamin,\n                  children: this.state.jenis_kelamin\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"L\",\n                  children: \"Laki-Laki\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"P\",\n                  children: \"Perempuan\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mb-2\",\n              controlId: \"tlp\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"No Telp\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                name: \"tlp\",\n                placeholder: \"Input telp\",\n                value: this.state.tlp,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              className: \"bg-green-500\",\n              type: \"submit\",\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Member;","map":{"version":3,"sources":["/home/dhisa/Documents/Project/Project/Fullstack Web/UKL Laundry/Frontend/src/pages/Member.js"],"names":["React","Navbar","NavbarKasir","NavbarOwner","axios","Modal","Button","Form","NavLink","MdAdd","MdEdit","MdDeleteOutline","Edit","Trash","Member","Component","constructor","headerConfig","header","headers","Authorization","state","token","handleChange","e","setState","target","name","value","handleFile","image","files","handleClose","isModalOpen","isModalPw","getMember","url","get","then","res","member","data","console","log","catch","error","handleEdit","item","id_member","nama","alamat","jenis_kelamin","tlp","action","handleAdd","handleSave","preventDefault","form","id_admin","post","response","handleColse","put","Drop","id","window","confirm","delete","message","err","search","localStorage","getItem","role","userName","alert","location","componentDidMount","render","map","index","id_outlet"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Navbar from '../components/Navbar'\r\nimport NavbarKasir from '../components/NavbarKasir';\r\nimport NavbarOwner from '../components/NavbarOwner';\r\nimport axios from 'axios';\r\nimport { Modal, Button, Form } from 'react-bootstrap';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { MdAdd, MdEdit, MdDeleteOutline } from 'react-icons/md';\r\nimport {Edit, Trash} from 'react-feather'\r\n\r\nclass Member extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      member: [],\r\n      isModalOpen: false,\r\n      token: \"\",\r\n      id_member: 0,\r\n      nama: \"\",\r\n      alamat: \"\",\r\n      jenis_kelamin: \"\",\r\n      tlp: \"\",\r\n      search: \"\",\r\n      isModalPw: false,\r\n      action: \"\"\r\n\r\n    }\r\n    if (localStorage.getItem('token')) {\r\n      if (localStorage.getItem('role') === \"admin\" || localStorage.getItem('role') === \"kasir\") {\r\n        this.state.role = localStorage.getItem('role')\r\n        this.state.token = localStorage.getItem('token')\r\n        this.state.userName = localStorage.getItem('name')\r\n      } else {\r\n        window.alert(\"You are not an admin\")\r\n        window.location = '/login'\r\n      }\r\n    } \r\n    else {\r\n      window.location = \"/login\"\r\n    }\r\n  }\r\n\r\n  headerConfig = () => {\r\n    let header = {\r\n      headers: { Authorization: `Bearer ${this.state.token}` }\r\n    }\r\n    return header\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    })\r\n  }\r\n\r\n  handleFile = (e) => {\r\n    this.setState({\r\n      image: e.target.files[0]\r\n    })\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState({\r\n      isModalOpen: false,\r\n      isModalPw: false,\r\n    })\r\n  }\r\n\r\n  getMember = () => {\r\n    let url = 'http://localhost:8080/member/'\r\n    axios.get(url, this.headerConfig())\r\n      .then(res => {\r\n        this.setState({\r\n          member: res.data.member\r\n        })\r\n        console.log(this.state.member)\r\n      })\r\n      .catch(error => {\r\n        console.log(error)\r\n      })\r\n  }\r\n\r\n  handleEdit = (item) => {\r\n    let url = \"http://localhost:8080/member/\" + item.id_member\r\n    axios.get(url)\r\n      .then(res => {\r\n        this.setState({\r\n          isModalOpen: true,\r\n          nama: item.nama,\r\n          alamat: item.alamat,\r\n          jenis_kelamin: item.jenis_kelamin,\r\n          tlp: item.tlp,\r\n          id_member: item.id_member,\r\n          action: \"update\"\r\n        })\r\n      })\r\n      .catch(error => {\r\n        console.log(error)\r\n      })\r\n\r\n  }\r\n\r\n  handleAdd = () => {\r\n    this.setState({\r\n      isModalOpen: true,\r\n      nama: \"\",\r\n      alamat: \"\",\r\n      jenis_kelamin: \"\",\r\n      tlp: \"\",\r\n      action: \"insert\"\r\n    })\r\n  }\r\n\r\n  handleSave = e => {\r\n    e.preventDefault()\r\n    let form = {\r\n      id_admin: this.state.id_admin,\r\n      nama: this.state.nama,\r\n      alamat: this.state.alamat,\r\n      jenis_kelamin: this.state.jenis_kelamin,\r\n      tlp: this.state.tlp\r\n    }\r\n    let url = \"\"\r\n    if (this.state.action === \"insert\") {\r\n      url = \"http://localhost:8080/member/\"\r\n      axios.post(url, form, this.headerConfig())\r\n        .then(response => {\r\n          // window.alert(response.data.message)\r\n          this.getMember()\r\n          this.handleColse()\r\n        })\r\n        .catch(error => console.log(error))\r\n    } else if (this.state.action === \"update\") {\r\n      url = \"http://localhost:8080/member/\" + this.state.id_member\r\n      axios.put(url, form, this.headerConfig())\r\n        .then(response => {\r\n          // window.alert(response.data.message)\r\n          this.getMember()\r\n          this.handleColse()\r\n        })\r\n        .catch(error => console.log(error))\r\n    }\r\n    this.setState({\r\n      isModalOpen: false\r\n    })\r\n  }\r\n\r\n  Drop = (id) => {\r\n    let url = \"http://localhost:8080/member/\" + id\r\n    if (window.confirm(\"Are you sure to delete this data?\")) {\r\n      axios.delete(url)\r\n        .then(res => {\r\n          console.log(res.data.message)\r\n          this.getMember()\r\n        })\r\n        .catch(err => {\r\n          console.log(err.message)\r\n        })\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getMember()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='flex'>\r\n        {this.state.role == \"owner\" &&\r\n            <NavbarOwner />\r\n        }\r\n        {this.state.role == \"admin\" &&\r\n            <Navbar />\r\n        }\r\n        {this.state.role == \"kasir\" &&\r\n            <NavbarKasir />\r\n        }\r\n        <div className=\"mt-10 ml-10 w-full\"> \r\n          <h4 className=\"text-3xl font-bold\">\r\n              Data User\r\n          </h4>\r\n          <button className=\"bg-green-400 text-white text-lg font-medium px-3 py-2 rounded-xl my-3\" id=\"btn-blue\" onClick={() => this.handleAdd()}>+ Tambah User</button>\r\n          <table className=\"table-fixed text-sm text-left text-gray-500  w-3/4\">\r\n            <thead className='text-white  text-center bg-gray-700'>\r\n              <tr className='text-lg'>\r\n                <th>Member ID</th>\r\n                <th>Name</th>\r\n                <th>Address</th>\r\n                <th>Gender</th>\r\n                <th>No Telp</th>\r\n                <th>Aksi</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className='text-lg text-center text-black'>\r\n              {this.state.member.map((item, index) => {\r\n                return (\r\n                  <tr key={index}>\r\n                    <td>{item.id_member}</td>\r\n                    <td>{item.nama}</td>\r\n                    <td>{item.alamat}</td>\r\n                    <td>{item.jenis_kelamin}</td>\r\n                    <td>{item.tlp}</td>\r\n                    <td>\r\n                    <button className=\"bg-blue-500 hover:bg-blue-700 text-white p-2\" onClick={() => this.handleEdit(item)}><Edit /></button>\r\n                      <button className=\"ml-2 bg-red-500 hover:bg-red-700 text-white p-2\" id=\"blue\" onClick={() => this.Drop(item.id_outlet)}><Trash /></button>\r\n                    </td>\r\n                  </tr>\r\n                )\r\n              })}\r\n            </tbody>\r\n          </table>\r\n          <br></br>\r\n\r\n\r\n\r\n        </div>\r\n\r\n        <Modal show={this.state.isModalOpen} onHide={this.handleClose}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Member</Modal.Title>\r\n          </Modal.Header>\r\n          <Form onSubmit={e => this.handleSave(e)}>\r\n            <Modal.Body>\r\n              <Form.Group className=\"mb-2\" controlId=\"name\">\r\n                <Form.Label>Name</Form.Label>\r\n                <Form.Control type=\"text\" name=\"nama\" placeholder=\"Input name\"\r\n                  value={this.state.nama} onChange={this.handleChange} />\r\n              </Form.Group>\r\n              <Form.Group className=\"mb-2\" controlId=\"address\">\r\n                <Form.Label>Address</Form.Label>\r\n                <Form.Control type=\"text\" name=\"alamat\" placeholder=\"Input address\"\r\n                  value={this.state.alamat} onChange={this.handleChange} />\r\n              </Form.Group>\r\n              <Form.Group className=\"mb-2\" controlId=\"gender\">\r\n                <Form.Label>Jenis Kelamin</Form.Label>\r\n                <Form.Select type=\"text\" name=\"jenis_kelamin\" onChange={this.handleChange} >\r\n                  <option value={this.state.jenis_kelamin}>{this.state.jenis_kelamin}</option>\r\n                  <option value=\"L\">Laki-Laki</option>\r\n                  <option value=\"P\">Perempuan</option>\r\n                </Form.Select>\r\n              </Form.Group>\r\n              <Form.Group className=\"mb-2\" controlId=\"tlp\">\r\n                <Form.Label>No Telp</Form.Label>\r\n                <Form.Control type=\"text\" name=\"tlp\" placeholder=\"Input telp\"\r\n                  value={this.state.tlp} onChange={this.handleChange} />\r\n              </Form.Group>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n              <Button className='bg-green-500' type=\"submit\" >\r\n                Save\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Form>\r\n        </Modal>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Member;"]},"metadata":{},"sourceType":"module"}