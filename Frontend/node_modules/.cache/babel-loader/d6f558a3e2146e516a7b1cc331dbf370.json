{"ast":null,"code":"var _jsxFileName = \"/home/dhisa/Documents/Project/Project/Fullstack Web/UKL Laundry/Frontend/src/pages/User.js\";\nimport React from 'react';\nimport Navbar from '../components/Navbar';\nimport axios from 'axios';\nimport { Modal, Button, Form } from 'react-bootstrap';\nimport { NavLink } from 'react-router-dom';\nimport { MdAdd, MdEdit, MdDeleteOutline } from 'react-icons/md';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass User extends React.Component {\n  constructor() {\n    super();\n\n    this.headerConfig = () => {\n      let header = {\n        headers: {\n          Authorization: `Bearer ${this.state.token}`\n        }\n      };\n      return header;\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleFile = e => {\n      this.setState({\n        image: e.target.files[0]\n      });\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        isModalOpen: false,\n        isModalPw: false\n      });\n    };\n\n    this.getUser = () => {\n      let url = 'http://localhost:8080/user/';\n      axios.get(url, this.headerConfig()).then(res => {\n        this.setState({\n          user: res.data.user\n        }); // console.log(this.state.user)\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.handleEdit = item => {\n      let url = \"http://localhost:8080/outlet/\" + item.id_outlet;\n      axios.get(url).then(res => {\n        this.setState({\n          outletname: res.data.outlet.nama,\n          isModalOpen: true,\n          nama: item.nama,\n          username: item.username,\n          id_outlet: item.id_outlet,\n          role: item.role,\n          id_user: item.id_user,\n          action: \"update\"\n        }); // console.log(this.state.outletname)\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.handleAdd = () => {\n      this.setState({\n        isModalOpen: true,\n        nama: \"\",\n        username: \"\",\n        id_outlet: \"\",\n        role: \"\",\n        password: \"\",\n        action: \"insert\"\n      });\n    };\n\n    this.handleSave = e => {\n      e.preventDefault();\n      let form = {\n        id_admin: this.state.id_admin,\n        nama: this.state.nama,\n        username: this.state.username,\n        password: this.state.password,\n        id_outlet: this.state.id_outlet,\n        role: this.state.role\n      };\n      let url = \"\";\n\n      if (this.state.action === \"insert\") {\n        url = \"http://localhost:8080/user/\";\n        axios.post(url, form, this.headerConfig()).then(response => {\n          // window.alert(response.data.message)\n          this.getUser();\n          this.handleColse();\n        }).catch(error => console.log(error));\n      } else if (this.state.action === \"update\") {\n        url = \"http://localhost:8080/user/\" + this.state.id_user;\n        axios.put(url, form, this.headerConfig()).then(response => {\n          // window.alert(response.data.message)\n          this.getUser();\n          this.handleColse();\n        }).catch(error => console.log(error));\n      }\n\n      this.setState({\n        isModalOpen: false\n      });\n    };\n\n    this.getOutlet = async () => {\n      let url = \"http://localhost:8080/outlet/\";\n      axios.get(url).then(res => {\n        this.setState({\n          outlet: res.data.outlet\n        });\n        console.log(this.state.outlet);\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.Drop = id => {\n      let url = \"http://localhost:8080/user/\" + id;\n\n      if (window.confirm(\"Are you sure to delete this data?\")) {\n        axios.delete(url).then(res => {\n          console.log(res.data.message);\n          this.getUser();\n        }).catch(err => {\n          console.log(err.message);\n        });\n      }\n    };\n\n    this.state = {\n      user: [],\n      outlet: [],\n      isModalOpen: false,\n      token: \"\",\n      id_user: 0,\n      nama: \"\",\n      username: \"\",\n      password: \"\",\n      id_outlet: \"\",\n      role: \"\",\n      search: \"\",\n      userName: \"\",\n      outletname: \"\",\n      isModalPw: false,\n      action: \"\"\n    };\n\n    if (localStorage.getItem('token')) {\n      if (localStorage.getItem('role') === \"admin\") {\n        this.state.role = localStorage.getItem('role');\n        this.state.token = localStorage.getItem('token');\n        this.state.userName = localStorage.getItem('name');\n      } else {\n        window.alert(\"You are not an admin\");\n        window.location = '/login';\n      }\n    } else {\n      window.location = \"/login\";\n    }\n  }\n\n  componentDidMount() {\n    this.getUser();\n    this.getOutlet();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"d-flex justify-content-between align-items-center mb-3\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"display-6\",\n            children: \"User Data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-2 md-5\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary form-control form-input\",\n              id: \"btn-blue\",\n              onClick: () => this.handleAdd(),\n              children: [/*#__PURE__*/_jsxDEV(MdAdd, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 122\n              }, this), \"Add New User\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"User ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Username\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Outlet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Role\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: this.state.user.map((item, index) => {\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.id_user\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.nama\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.username\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.outlet.nama\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.role\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-sm btn-outline-secondary m-1\",\n                    onClick: () => this.handleEdit(item),\n                    children: /*#__PURE__*/_jsxDEV(MdEdit, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 228,\n                      columnNumber: 118\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 228,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-sm btn-danger m-1\",\n                    id: \"blue\",\n                    onClick: () => this.Drop(item.id_user),\n                    children: /*#__PURE__*/_jsxDEV(MdDeleteOutline, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 229,\n                      columnNumber: 119\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 21\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        show: this.state.isModalOpen,\n        onHide: this.handleClose,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            children: \"User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: e => this.handleSave(e),\n          children: [/*#__PURE__*/_jsxDEV(Modal.Body, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mb-2\",\n              controlId: \"name\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Nama\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                name: \"nama\",\n                placeholder: \"Input name\",\n                value: this.state.nama,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mb-2\",\n              controlId: \"address\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Username\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                name: \"username\",\n                placeholder: \"Input username\",\n                value: this.state.username,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this), this.state.action === \"insert\" && /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mb-2\",\n              controlId: \"address\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"password\",\n                name: \"password\",\n                placeholder: \"Input password\",\n                value: this.state.password,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mb-2\",\n              controlId: \"gender\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Role\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                type: \"text\",\n                name: \"role\",\n                onChange: this.handleChange,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: this.state.role,\n                  children: this.state.role\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"admin\",\n                  children: \"Admin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"kasir\",\n                  children: \"Kasir\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"owner\",\n                  children: \"Owner\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mb-2\",\n              controlId: \"gender\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Outlet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                type: \"text\",\n                name: \"id_outlet\",\n                onChange: this.handleChange,\n                children: [this.state.action === \"update\" && /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: this.state.id_outlet,\n                  children: this.state.outletname\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 21\n                }, this), this.state.action === \"insert\" && /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 21\n                }, this), this.state.outlet.map((item, index) => {\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: item.id_outlet,\n                    children: item.nama\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 23\n                  }, this);\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              type: \"submit\",\n              id: \"blue\",\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        show: this.state.isModalPw,\n        onHide: this.handleClose,\n        centered: true,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            children: \"Update Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: e => this.handleSavePw(e),\n          children: [/*#__PURE__*/_jsxDEV(Modal.Body, {\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mb-2\",\n              controlId: \"password\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"password\",\n                name: \"password_user\",\n                value: this.state.password_user,\n                placeholder: \"Masukkan password\",\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              type: \"submit\",\n              id: \"blue\",\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default User;","map":{"version":3,"sources":["/home/dhisa/Documents/Project/Project/Fullstack Web/UKL Laundry/Frontend/src/pages/User.js"],"names":["React","Navbar","axios","Modal","Button","Form","NavLink","MdAdd","MdEdit","MdDeleteOutline","User","Component","constructor","headerConfig","header","headers","Authorization","state","token","handleChange","e","setState","target","name","value","handleFile","image","files","handleClose","isModalOpen","isModalPw","getUser","url","get","then","res","user","data","catch","error","console","log","handleEdit","item","id_outlet","outletname","outlet","nama","username","role","id_user","action","handleAdd","password","handleSave","preventDefault","form","id_admin","post","response","handleColse","put","getOutlet","Drop","id","window","confirm","delete","message","err","search","userName","localStorage","getItem","alert","location","componentDidMount","render","map","index","handleSavePw","password_user"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Navbar from '../components/Navbar'\r\nimport axios from 'axios';\r\nimport { Modal, Button, Form } from 'react-bootstrap';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { MdAdd, MdEdit, MdDeleteOutline } from 'react-icons/md';\r\n\r\nclass User extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      user: [],\r\n      outlet: [],\r\n      isModalOpen: false,\r\n      token: \"\",\r\n      id_user: 0,\r\n      nama: \"\",\r\n      username: \"\",\r\n      password: \"\",\r\n      id_outlet: \"\",\r\n      role: \"\",\r\n      search: \"\",\r\n      userName: \"\",\r\n      outletname: \"\",\r\n      isModalPw: false,\r\n      action: \"\"\r\n\r\n    }\r\n    if (localStorage.getItem('token')) {\r\n      if (localStorage.getItem('role') === \"admin\") {\r\n        this.state.role = localStorage.getItem('role')\r\n        this.state.token = localStorage.getItem('token')\r\n        this.state.userName = localStorage.getItem('name')\r\n      } else {\r\n        window.alert(\"You are not an admin\")\r\n        window.location = '/login'\r\n      }\r\n    } else {\r\n      window.location = \"/login\"\r\n    }\r\n  }\r\n\r\n  headerConfig = () => {\r\n    let header = {\r\n      headers: { Authorization: `Bearer ${this.state.token}` }\r\n    }\r\n    return header\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    })\r\n  }\r\n\r\n  handleFile = (e) => {\r\n    this.setState({\r\n      image: e.target.files[0]\r\n    })\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState({\r\n      isModalOpen: false,\r\n      isModalPw: false,\r\n    })\r\n  }\r\n\r\n  getUser = () => {\r\n    let url = 'http://localhost:8080/user/'\r\n    axios.get(url, this.headerConfig())\r\n      .then(res => {\r\n        this.setState({\r\n          user: res.data.user\r\n        })\r\n        // console.log(this.state.user)\r\n      })\r\n      .catch(error => {\r\n        console.log(error)\r\n      })\r\n  }\r\n\r\n  handleEdit = (item) => {\r\n    let url = \"http://localhost:8080/outlet/\" + item.id_outlet\r\n    axios.get(url)\r\n      .then(res => {\r\n        this.setState({\r\n          outletname: res.data.outlet.nama,\r\n          isModalOpen: true,\r\n          nama: item.nama,\r\n          username: item.username,\r\n          id_outlet: item.id_outlet,\r\n          role: item.role,\r\n          id_user: item.id_user,\r\n          action: \"update\"\r\n        })\r\n        // console.log(this.state.outletname)\r\n      })\r\n      .catch(error => {\r\n        console.log(error)\r\n      })\r\n\r\n  }\r\n\r\n  handleAdd = () => {\r\n    this.setState({\r\n      isModalOpen: true,\r\n      nama: \"\",\r\n      username: \"\",\r\n      id_outlet: \"\",\r\n      role: \"\",\r\n      password: \"\",\r\n      action: \"insert\"\r\n    })\r\n  }\r\n\r\n  handleSave = e => {\r\n    e.preventDefault()\r\n    let form = {\r\n      id_admin: this.state.id_admin,\r\n      nama: this.state.nama,\r\n      username: this.state.username,\r\n      password: this.state.password,\r\n      id_outlet: this.state.id_outlet,\r\n      role: this.state.role\r\n    }\r\n    let url = \"\"\r\n    if (this.state.action === \"insert\") {\r\n      url = \"http://localhost:8080/user/\"\r\n      axios.post(url, form, this.headerConfig())\r\n        .then(response => {\r\n          // window.alert(response.data.message)\r\n          this.getUser()\r\n          this.handleColse()\r\n        })\r\n        .catch(error => console.log(error))\r\n    } else if (this.state.action === \"update\") {\r\n      url = \"http://localhost:8080/user/\" + this.state.id_user\r\n      axios.put(url, form, this.headerConfig())\r\n        .then(response => {\r\n          // window.alert(response.data.message)\r\n          this.getUser()\r\n          this.handleColse()\r\n        })\r\n        .catch(error => console.log(error))\r\n    }\r\n    this.setState({\r\n      isModalOpen: false\r\n    })\r\n  }\r\n\r\n  getOutlet = async () => {\r\n    let url = \"http://localhost:8080/outlet/\"\r\n    axios.get(url)\r\n      .then(res => {\r\n        this.setState({\r\n          outlet: res.data.outlet\r\n        })\r\n        console.log(this.state.outlet)\r\n      })\r\n      .catch(error => {\r\n        console.log(error)\r\n      })\r\n  }\r\n\r\n  Drop = (id) => {\r\n    let url = \"http://localhost:8080/user/\" + id\r\n    if (window.confirm(\"Are you sure to delete this data?\")) {\r\n      axios.delete(url)\r\n        .then(res => {\r\n          console.log(res.data.message)\r\n          this.getUser()\r\n        })\r\n        .catch(err => {\r\n          console.log(err.message)\r\n        })\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getUser()\r\n    this.getOutlet()\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Navbar />\r\n        <div className=\"container\"> <br></br>\r\n            <h4 className=\"d-flex justify-content-between align-items-center mb-3\">\r\n                <span className=\"display-6\">User Data</span>\r\n                </h4><br></br>\r\n          <div className=\"row\">\r\n            {/* <div className=\"col-6 md-5\">\r\n                <input type=\"text\" name=\"search\" value={this.state.search} onChange={this.handleChange} onKeyUp={this.findUser} class=\"form-control form-input\" placeholder=\"Find User\"/>\r\n            </div> */}\r\n            <div className=\"col-2 md-5\">\r\n              <button className=\"btn btn-primary form-control form-input\" id=\"btn-blue\" onClick={() => this.handleAdd()}><MdAdd />Add New User</button>\r\n            </div>\r\n          </div>\r\n\r\n          <br></br> <br></br>\r\n\r\n\r\n          <table className=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th>User ID</th>\r\n                <th>Name</th>\r\n                <th>Username</th>\r\n                <th>Outlet</th>\r\n                <th>Role</th>\r\n\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {this.state.user.map((item, index) => {\r\n                return (\r\n                  <tr key={index}>\r\n                    <td>{item.id_user}</td>\r\n                    <td>{item.nama}</td>\r\n                    <td>{item.username}</td>\r\n                    <td>{item.outlet.nama}</td>\r\n                    <td>{item.role}</td>\r\n                    <td>\r\n                      <button className=\"btn btn-sm btn-outline-secondary m-1\" onClick={() => this.handleEdit(item)}><MdEdit /></button>\r\n                      <button className=\"btn btn-sm btn-danger m-1\" id=\"blue\" onClick={() => this.Drop(item.id_user)}><MdDeleteOutline /></button>\r\n                    </td>\r\n                  </tr>\r\n                )\r\n              })}\r\n            </tbody>\r\n          </table>\r\n          <br></br>\r\n\r\n\r\n\r\n        </div>\r\n\r\n        <Modal show={this.state.isModalOpen} onHide={this.handleClose}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>User</Modal.Title>\r\n          </Modal.Header>\r\n          <Form onSubmit={e => this.handleSave(e)}>\r\n            <Modal.Body>\r\n              <Form.Group className=\"mb-2\" controlId=\"name\">\r\n                <Form.Label>Nama</Form.Label>\r\n                <Form.Control type=\"text\" name=\"nama\" placeholder=\"Input name\"\r\n                  value={this.state.nama} onChange={this.handleChange} />\r\n              </Form.Group>\r\n              <Form.Group className=\"mb-2\" controlId=\"address\">\r\n                <Form.Label>Username</Form.Label>\r\n                <Form.Control type=\"text\" name=\"username\" placeholder=\"Input username\"\r\n                  value={this.state.username} onChange={this.handleChange} />\r\n              </Form.Group>\r\n\r\n              {this.state.action === \"insert\" &&\r\n                <Form.Group className=\"mb-2\" controlId=\"address\">\r\n                  <Form.Label>Password</Form.Label>\r\n                  <Form.Control type=\"password\" name=\"password\" placeholder=\"Input password\"\r\n                    value={this.state.password} onChange={this.handleChange} />\r\n                </Form.Group>\r\n              }\r\n              <Form.Group className=\"mb-2\" controlId=\"gender\">\r\n                <Form.Label>Role</Form.Label>\r\n                <Form.Select type=\"text\" name=\"role\" onChange={this.handleChange} >\r\n                  <option value={this.state.role}>{this.state.role}</option>\r\n                  <option value=\"admin\">Admin</option>\r\n                  <option value=\"kasir\">Kasir</option>\r\n                  <option value=\"owner\">Owner</option>\r\n                </Form.Select>\r\n              </Form.Group>\r\n              <Form.Group className=\"mb-2\" controlId=\"gender\">\r\n                <Form.Label>Outlet</Form.Label>\r\n                <Form.Select type=\"text\" name=\"id_outlet\" onChange={this.handleChange}>\r\n                  {this.state.action === \"update\" &&\r\n                    <option value={this.state.id_outlet}>{this.state.outletname}</option>\r\n                  }\r\n                  {this.state.action === \"insert\" &&\r\n                    <option value=\"\"></option>\r\n                  }\r\n                  {this.state.outlet.map((item, index) => {\r\n                    return (\r\n                      <option value={item.id_outlet}>{item.nama}</option>\r\n                    )\r\n                  })}\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n              <Button variant=\"primary\" type=\"submit\" id=\"blue\">\r\n                Save\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Form>\r\n        </Modal>\r\n\r\n\r\n        <Modal show={this.state.isModalPw} onHide={this.handleClose} centered>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Update Password</Modal.Title>\r\n          </Modal.Header>\r\n          <Form onSubmit={e => this.handleSavePw(e)}>\r\n            <Modal.Body>\r\n              <Form.Group className=\"mb-2\" controlId=\"password\">\r\n                <Form.Label>Password</Form.Label>\r\n                <Form.Control type=\"password\" name=\"password_user\" value={this.state.password_user} placeholder=\"Masukkan password\"\r\n                  onChange={this.handleChange} />\r\n              </Form.Group>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n              <Button variant=\"primary\" type=\"submit\" id=\"blue\">\r\n                Save\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Form>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default User;"]},"metadata":{},"sourceType":"module"}