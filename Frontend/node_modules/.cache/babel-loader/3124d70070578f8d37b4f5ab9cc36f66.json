{"ast":null,"code":"var _jsxFileName = \"/home/dhisa/Documents/Project/Project/Fullstack Web/UKL Laundry/Frontend/src/pages/ChooseMember.js\";\nimport React from 'react';\nimport Navbar from '../components/Navbar';\nimport axios from 'axios';\nimport { Modal, Button, Form } from 'react-bootstrap';\nimport { NavLink } from 'react-router-dom';\nimport { MdAdd, MdEdit, MdDeleteOutline } from 'react-icons/md';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ChooseMember extends React.Component {\n  constructor() {\n    super();\n\n    this.handleChoose = item => {\n      let confirmAction = window.confirm(\"Choose \" + item.nama + \" ?\");\n\n      if (confirmAction) {\n        alert(\"successfully executed member\");\n        localStorage.setItem(\"id_member\", item.id_member);\n        localStorage.setItem(\"nama_member\", item.nama);\n        localStorage.setItem(\"alamat_member\", item.alamat);\n        localStorage.setItem(\"jenis_kelamin\", item.jenis_kelamin);\n        localStorage.setItem(\"tlp_member\", item.tlp);\n\n        if (localStorage.getItem('role') === \"admin\") {\n          window.location = '/paket';\n        }\n\n        if (localStorage.getItem('role') === \"kasir\") {\n          window.location = '/choosepaket';\n        }\n      } else {\n        alert(\"Canceled to choose member\");\n      }\n    };\n\n    this.headerConfig = () => {\n      let header = {\n        headers: {\n          Authorization: `Bearer ${this.state.token}`\n        }\n      };\n      return header;\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleFile = e => {\n      this.setState({\n        image: e.target.files[0]\n      });\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        isModalOpen: false,\n        isModalPw: false\n      });\n    };\n\n    this.getMember = () => {\n      let url = 'http://localhost:8080/member/';\n      axios.get(url, this.headerConfig()).then(res => {\n        this.setState({\n          member: res.data.member\n        });\n        console.log(this.state.member);\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.state = {\n      member: [],\n      isModalOpen: false,\n      token: \"\",\n      id_member: 0,\n      nama: \"\",\n      alamat: \"\",\n      jenis_kelamin: \"\",\n      tlp: \"\",\n      search: \"\",\n      isModalPw: false,\n      action: \"\"\n    };\n\n    if (localStorage.getItem('token')) {\n      if (localStorage.getItem('role') === \"admin\" || localStorage.getItem('role') === \"kasir\") {\n        this.state.role = localStorage.getItem('role');\n        this.state.token = localStorage.getItem('token');\n        this.state.id_member = localStorage.getItem('id_member');\n      } else {\n        window.alert(\"You are not an admin\");\n        window.location = '/login';\n      }\n    } else {\n      window.location = \"/login\";\n    }\n  }\n\n  componentDidMount() {\n    this.getMember();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"d-flex justify-content-between align-items-center mb-3\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"display-6\",\n            children: \"Pilih Member\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-6 md-5\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"search\",\n              value: this.state.search,\n              onChange: this.handleChange,\n              onKeyUp: this.findMember,\n              class: \"form-control form-input\",\n              placeholder: \"Find Member\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Member ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Gender\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"No Telp\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: this.state.member.map((item, index) => {\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.id_member\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.nama\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.alamat\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.jenis_kelamin\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.tlp\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-sm btn-primary m-1\",\n                    onClick: () => this.handleChoose(item),\n                    children: \"Choose\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 143,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 21\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        show: this.state.isModalOpen,\n        onHide: this.handleClose,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            children: \"Member\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: e => this.handleSave(e),\n          children: [/*#__PURE__*/_jsxDEV(Modal.Body, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mb-2\",\n              controlId: \"name\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                name: \"nama\",\n                placeholder: \"Input name\",\n                value: this.state.nama,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mb-2\",\n              controlId: \"address\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                name: \"alamat\",\n                placeholder: \"Input address\",\n                value: this.state.alamat,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mb-2\",\n              controlId: \"gender\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Jenis Kelamin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                type: \"text\",\n                name: \"jenis_kelamin\",\n                onChange: this.handleChange,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: this.state.jenis_kelamin,\n                  children: this.state.jenis_kelamin\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"L\",\n                  children: \"Laki-Laki\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"P\",\n                  children: \"Perempuan\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mb-2\",\n              controlId: \"tlp\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"No Telp\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                name: \"tlp\",\n                placeholder: \"Input telp\",\n                value: this.state.tlp,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              type: \"submit\",\n              id: \"blue\",\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default ChooseMember;","map":{"version":3,"sources":["/home/dhisa/Documents/Project/Project/Fullstack Web/UKL Laundry/Frontend/src/pages/ChooseMember.js"],"names":["React","Navbar","axios","Modal","Button","Form","NavLink","MdAdd","MdEdit","MdDeleteOutline","ChooseMember","Component","constructor","handleChoose","item","confirmAction","window","confirm","nama","alert","localStorage","setItem","id_member","alamat","jenis_kelamin","tlp","getItem","location","headerConfig","header","headers","Authorization","state","token","handleChange","e","setState","target","name","value","handleFile","image","files","handleClose","isModalOpen","isModalPw","getMember","url","get","then","res","member","data","console","log","catch","error","search","action","role","componentDidMount","render","findMember","map","index","handleSave"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Navbar from '../components/Navbar'\r\nimport axios from 'axios';\r\nimport { Modal, Button, Form } from 'react-bootstrap';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { MdAdd, MdEdit, MdDeleteOutline } from 'react-icons/md';\r\n\r\nclass ChooseMember extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      member: [],\r\n      isModalOpen: false,\r\n      token: \"\",\r\n      id_member: 0,\r\n      nama: \"\",\r\n      alamat: \"\",\r\n      jenis_kelamin: \"\",\r\n      tlp: \"\",\r\n      search: \"\",\r\n      isModalPw: false,\r\n      action: \"\"\r\n\r\n    }\r\n    if (localStorage.getItem('token')) {\r\n      if (localStorage.getItem('role') === \"admin\" || localStorage.getItem('role') === \"kasir\") {\r\n        this.state.role = localStorage.getItem('role')\r\n        this.state.token = localStorage.getItem('token')\r\n        this.state.id_member = localStorage.getItem('id_member')\r\n      } else {\r\n        window.alert(\"You are not an admin\")\r\n        window.location = '/login'\r\n      }\r\n    } else {\r\n      window.location = \"/login\"\r\n    }\r\n  }\r\n\r\n  handleChoose = (item) => {\r\n    let confirmAction = window.confirm(\"Choose \" + item.nama + \" ?\")\r\n      if (confirmAction) {\r\n        alert(\"successfully executed member\");\r\n        localStorage.setItem(\"id_member\", item.id_member);\r\n        localStorage.setItem(\"nama_member\", item.nama);\r\n        localStorage.setItem(\"alamat_member\", item.alamat);\r\n        localStorage.setItem(\"jenis_kelamin\", item.jenis_kelamin);\r\n        localStorage.setItem(\"tlp_member\", item.tlp);\r\n        if (localStorage.getItem('role') === \"admin\"){\r\n          window.location = '/paket'\r\n        } if (localStorage.getItem('role') === \"kasir\"){\r\n          window.location = '/choosepaket'\r\n        } \r\n        \r\n      } else {\r\n        alert(\"Canceled to choose member\");\r\n      }\r\n  }\r\n\r\n  headerConfig = () => {\r\n    let header = {\r\n      headers: { Authorization: `Bearer ${this.state.token}` }\r\n    }\r\n    return header\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    })\r\n  }\r\n\r\n  handleFile = (e) => {\r\n    this.setState({\r\n      image: e.target.files[0]\r\n    })\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState({\r\n      isModalOpen: false,\r\n      isModalPw: false,\r\n    })\r\n  }\r\n\r\n  getMember = () => {\r\n    let url = 'http://localhost:8080/member/'\r\n    axios.get(url, this.headerConfig())\r\n      .then(res => {\r\n        this.setState({\r\n          member: res.data.member\r\n        })\r\n        console.log(this.state.member)\r\n      })\r\n      .catch(error => {\r\n        console.log(error)\r\n      })\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getMember()\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className='flex'>\r\n        <Navbar />\r\n        <div className=\"container\"> <br></br>\r\n            <h4 className=\"d-flex justify-content-between align-items-center mb-3\">\r\n                <span className=\"display-6\">Pilih Member</span>\r\n                </h4><br></br>\r\n          <div className=\"row\">\r\n            <div className=\"col-6 md-5\">\r\n                <input type=\"text\" name=\"search\" value={this.state.search} onChange={this.handleChange} onKeyUp={this.findMember} class=\"form-control form-input\" placeholder=\"Find Member\"/>\r\n            </div>\r\n          </div>\r\n\r\n          <br></br> <br></br>\r\n\r\n\r\n          <table className=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Member ID</th>\r\n                <th>Name</th>\r\n                <th>Address</th>\r\n                <th>Gender</th>\r\n                <th>No Telp</th>\r\n\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {this.state.member.map((item, index) => {\r\n                return (\r\n                  <tr key={index}>\r\n                    <td>{item.id_member}</td>\r\n                    <td>{item.nama}</td>\r\n                    <td>{item.alamat}</td>\r\n                    <td>{item.jenis_kelamin}</td>\r\n                    <td>{item.tlp}</td>\r\n                    <td>\r\n                      <button className=\"btn btn-sm btn-primary m-1\" onClick={() => this.handleChoose(item)}>Choose</button>\r\n                    </td>\r\n                  </tr>\r\n                )\r\n              })}\r\n            </tbody>\r\n          </table>\r\n          <br></br>\r\n\r\n\r\n\r\n        </div>\r\n\r\n        <Modal show={this.state.isModalOpen} onHide={this.handleClose}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Member</Modal.Title>\r\n          </Modal.Header>\r\n          <Form onSubmit={e => this.handleSave(e)}>\r\n            <Modal.Body>\r\n              <Form.Group className=\"mb-2\" controlId=\"name\">\r\n                <Form.Label>Name</Form.Label>\r\n                <Form.Control type=\"text\" name=\"nama\" placeholder=\"Input name\"\r\n                  value={this.state.nama} onChange={this.handleChange} />\r\n              </Form.Group>\r\n              <Form.Group className=\"mb-2\" controlId=\"address\">\r\n                <Form.Label>Address</Form.Label>\r\n                <Form.Control type=\"text\" name=\"alamat\" placeholder=\"Input address\"\r\n                  value={this.state.alamat} onChange={this.handleChange} />\r\n              </Form.Group>\r\n              <Form.Group className=\"mb-2\" controlId=\"gender\">\r\n                <Form.Label>Jenis Kelamin</Form.Label>\r\n                <Form.Select type=\"text\" name=\"jenis_kelamin\" onChange={this.handleChange} >\r\n                  <option value={this.state.jenis_kelamin}>{this.state.jenis_kelamin}</option>\r\n                  <option value=\"L\">Laki-Laki</option>\r\n                  <option value=\"P\">Perempuan</option>\r\n                </Form.Select>\r\n              </Form.Group>\r\n              <Form.Group className=\"mb-2\" controlId=\"tlp\">\r\n                <Form.Label>No Telp</Form.Label>\r\n                <Form.Control type=\"text\" name=\"tlp\" placeholder=\"Input telp\"\r\n                  value={this.state.tlp} onChange={this.handleChange} />\r\n              </Form.Group>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n              <Button variant=\"primary\" type=\"submit\" id=\"blue\">\r\n                Save\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Form>\r\n        </Modal>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ChooseMember;"]},"metadata":{},"sourceType":"module"}